<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example 04</title>

  <script src="https://cdng02.plus4u.net/b686718ad49d3ec4d88936576cd830c2/uu-uu5loaderg01/1.x/uu5loaderg01.min.js" crossorigin></script>
  <script src="https://cdng02.plus4u.net/b686718ad49d3ec4d88936576cd830c2/uu-uu5g05/1.x/assets/example-config.js" crossorigin></script>

  <style>
    body {
      padding: 16px 32px;
    }
  </style>
</head>

<body>
  <div id="uu5">Loading...</div>

  <script type="text/babel">
    import { createComponent, createVisualComponent, Utils, useState, useRef, Fragment, useEvent } from "uu5g05";
    import Uu5Elements from "uu5g05-elements";
    import { Config } from "uu5g05-dev";

    //@@viewOn:example
    const PopoverByElement = createVisualComponent({
      render({ preferredPosition, children, ...popoverProps }) {
        const [popoverSettings, setPopoverSettings] = useState(null);
        const buttonRef = useRef();

        return (
          <Fragment>
            <Uu5Elements.Button
              elementRef={buttonRef}
              onClick={e => setPopoverSettings({ element: buttonRef.current })}
              pressed={!!(popoverSettings || {}).element}
            >
              {children || preferredPosition || "Open Popover around of element"}
            </Uu5Elements.Button>
            {popoverSettings && (
              <Uu5Elements.Popover
                {...popoverProps}
                {...popoverSettings}
                preferredPosition={preferredPosition}
                onClose={() => setPopoverSettings(null)}
              >
                <ul>
                  <li>Apple</li>
                  <li>Orange</li>
                  <li>Banana</li>
                </ul>
              </Uu5Elements.Popover>
            )}
          </Fragment>
        );
      }
    });
    //@@viewOff:example

    const Page = createComponent({
      render() {
        return (
          <div>
            <h4>avoiding collisions - height</h4>
            <iframe id="avoidingCollision"
              title="Avoiding Collision"
              width="100%"
              height="210px"
              src="e05.html"
              style={{ border: 'none', boxShadow: '1px 1px black' }}>
            </iframe>
          </div>
        );
      }
    });

    Utils.Dom.render(<Page />, document.getElementById("uu5"));
  </script>
</body>

</html>